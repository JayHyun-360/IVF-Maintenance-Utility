{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Charljay/Desktop/IVF-Maintenance-Utility/apps/web/src/app/api/auth/check-role/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\n\r\n// Shared user data - in production, this would come from a database\r\nconst users = [\r\n  {\r\n    email: \"admin@test.com\",\r\n    role: \"ADMIN\",\r\n  },\r\n  {\r\n    email: \"user@test.com\",\r\n    role: \"USER\",\r\n  },\r\n];\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const { email } = await request.json();\r\n\r\n    if (!email) {\r\n      return NextResponse.json({ error: \"Email is required\" }, { status: 400 });\r\n    }\r\n\r\n    const user = users.find(\r\n      (u) => u.email.toLowerCase() === email.toLowerCase(),\r\n    );\r\n\r\n    if (!user) {\r\n      return NextResponse.json({ error: \"User not found\" }, { status: 404 });\r\n    }\r\n\r\n    return NextResponse.json({ role: user.role });\r\n  } catch (error) {\r\n    console.error(\"Error checking role:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Internal server error\" },\r\n      { status: 500 },\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,oEAAoE;AACpE,MAAM,QAAQ;IACZ;QACE,OAAO;QACP,MAAM;IACR;IACA;QACE,OAAO;QACP,MAAM;IACR;CACD;AAEM,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEpC,IAAI,CAAC,OAAO;YACV,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAoB,GAAG;gBAAE,QAAQ;YAAI;QACzE;QAEA,MAAM,OAAO,MAAM,IAAI,CACrB,CAAC,IAAM,EAAE,KAAK,CAAC,WAAW,OAAO,MAAM,WAAW;QAGpD,IAAI,CAAC,MAAM;YACT,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAiB,GAAG;gBAAE,QAAQ;YAAI;QACtE;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,MAAM,KAAK,IAAI;QAAC;IAC7C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}