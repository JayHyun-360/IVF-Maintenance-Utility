{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Charljay/Desktop/IVF-Maintenance-Utility/apps/web/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\n\r\nconst prismaClientSingleton = () => {\r\n  return new PrismaClient();\r\n};\r\n\r\ndeclare global {\r\n  var prisma: undefined | ReturnType<typeof prismaClientSingleton>;\r\n}\r\n\r\nconst prisma = globalThis.prisma ?? prismaClientSingleton();\r\n\r\nexport default prisma;\r\n\r\nif (process.env.NODE_ENV !== \"production\") globalThis.prisma = prisma;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,wBAAwB;IAC5B,OAAO,IAAI,qNAAY;AACzB;AAMA,MAAM,SAAS,WAAW,MAAM,IAAI;uCAErB;AAEf,wCAA2C,WAAW,MAAM,GAAG"}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Charljay/Desktop/IVF-Maintenance-Utility/apps/web/src/app/api/test-data/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport prisma from \"@/lib/prisma\";\n\nexport async function GET(request: NextRequest) {\n  try {\n    // Get all maintenance requests with user data (no auth required for testing)\n    const requests = await prisma.maintenanceRequest.findMany({\n      include: {\n        user: {\n          select: {\n            id: true,\n            name: true,\n            email: true,\n          },\n        },\n        comments: {\n          include: {\n            user: {\n              select: {\n                id: true,\n                name: true,\n                email: true,\n              },\n            },\n          },\n          orderBy: {\n            createdAt: \"desc\",\n          },\n        },\n        _count: {\n          select: {\n            comments: true,\n          },\n        },\n      },\n      orderBy: {\n        createdAt: \"desc\",\n      },\n    });\n\n    // Get stats\n    const [total, pending, inProgress, completed] = await Promise.all([\n      prisma.maintenanceRequest.count(),\n      prisma.maintenanceRequest.count({ where: { status: \"PENDING\" } }),\n      prisma.maintenanceRequest.count({ where: { status: \"IN_PROGRESS\" } }),\n      prisma.maintenanceRequest.count({ where: { status: \"COMPLETED\" } }),\n    ]);\n\n    // Transform the data to match the frontend interface\n    const transformedRequests = requests.map((request) => ({\n      id: request.id,\n      title: request.title,\n      description: request.description,\n      category: request.category,\n      priority: request.priority,\n      status: request.status,\n      location: request.location,\n      images: request.images ? JSON.parse(request.images) : [],\n      documents: request.documents ? JSON.parse(request.documents) : [],\n      requestedBy: request.user.name,\n      requestedByEmail: request.user.email,\n      assignedTo: request.assignedTo,\n      createdAt: request.createdAt.toISOString(),\n      updatedAt: request.updatedAt.toISOString(),\n      completedAt: request.completedAt?.toISOString() || null,\n      user: request.user,\n      comments: request.comments.map((comment) => ({\n        id: comment.id,\n        content: comment.content,\n        userId: comment.userId,\n        userName: comment.user.name,\n        userEmail: comment.user.email,\n        createdAt: comment.createdAt.toISOString(),\n        updatedAt: comment.updatedAt.toISOString(),\n      })),\n      commentCount: request._count.comments,\n    }));\n\n    const stats = [\n      { label: \"Total Requests\", value: total },\n      { label: \"Pending\", value: pending },\n      { label: \"In Progress\", value: inProgress },\n      { label: \"Completed\", value: completed },\n    ];\n\n    return NextResponse.json({\n      message: \"Test data loaded successfully\",\n      stats,\n      requests: transformedRequests,\n      count: transformedRequests.length,\n    });\n  } catch (error) {\n    console.error(\"Error fetching test data:\", error);\n    return NextResponse.json(\n      {\n        error: \"Internal server error\",\n        details: error instanceof Error ? error.message : String(error),\n      },\n      { status: 500 },\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,6EAA6E;QAC7E,MAAM,WAAW,MAAM,gJAAM,CAAC,kBAAkB,CAAC,QAAQ,CAAC;YACxD,SAAS;gBACP,MAAM;oBACJ,QAAQ;wBACN,IAAI;wBACJ,MAAM;wBACN,OAAO;oBACT;gBACF;gBACA,UAAU;oBACR,SAAS;wBACP,MAAM;4BACJ,QAAQ;gCACN,IAAI;gCACJ,MAAM;gCACN,OAAO;4BACT;wBACF;oBACF;oBACA,SAAS;wBACP,WAAW;oBACb;gBACF;gBACA,QAAQ;oBACN,QAAQ;wBACN,UAAU;oBACZ;gBACF;YACF;YACA,SAAS;gBACP,WAAW;YACb;QACF;QAEA,YAAY;QACZ,MAAM,CAAC,OAAO,SAAS,YAAY,UAAU,GAAG,MAAM,QAAQ,GAAG,CAAC;YAChE,gJAAM,CAAC,kBAAkB,CAAC,KAAK;YAC/B,gJAAM,CAAC,kBAAkB,CAAC,KAAK,CAAC;gBAAE,OAAO;oBAAE,QAAQ;gBAAU;YAAE;YAC/D,gJAAM,CAAC,kBAAkB,CAAC,KAAK,CAAC;gBAAE,OAAO;oBAAE,QAAQ;gBAAc;YAAE;YACnE,gJAAM,CAAC,kBAAkB,CAAC,KAAK,CAAC;gBAAE,OAAO;oBAAE,QAAQ;gBAAY;YAAE;SAClE;QAED,qDAAqD;QACrD,MAAM,sBAAsB,SAAS,GAAG,CAAC,CAAC,UAAY,CAAC;gBACrD,IAAI,QAAQ,EAAE;gBACd,OAAO,QAAQ,KAAK;gBACpB,aAAa,QAAQ,WAAW;gBAChC,UAAU,QAAQ,QAAQ;gBAC1B,UAAU,QAAQ,QAAQ;gBAC1B,QAAQ,QAAQ,MAAM;gBACtB,UAAU,QAAQ,QAAQ;gBAC1B,QAAQ,QAAQ,MAAM,GAAG,KAAK,KAAK,CAAC,QAAQ,MAAM,IAAI,EAAE;gBACxD,WAAW,QAAQ,SAAS,GAAG,KAAK,KAAK,CAAC,QAAQ,SAAS,IAAI,EAAE;gBACjE,aAAa,QAAQ,IAAI,CAAC,IAAI;gBAC9B,kBAAkB,QAAQ,IAAI,CAAC,KAAK;gBACpC,YAAY,QAAQ,UAAU;gBAC9B,WAAW,QAAQ,SAAS,CAAC,WAAW;gBACxC,WAAW,QAAQ,SAAS,CAAC,WAAW;gBACxC,aAAa,QAAQ,WAAW,EAAE,iBAAiB;gBACnD,MAAM,QAAQ,IAAI;gBAClB,UAAU,QAAQ,QAAQ,CAAC,GAAG,CAAC,CAAC,UAAY,CAAC;wBAC3C,IAAI,QAAQ,EAAE;wBACd,SAAS,QAAQ,OAAO;wBACxB,QAAQ,QAAQ,MAAM;wBACtB,UAAU,QAAQ,IAAI,CAAC,IAAI;wBAC3B,WAAW,QAAQ,IAAI,CAAC,KAAK;wBAC7B,WAAW,QAAQ,SAAS,CAAC,WAAW;wBACxC,WAAW,QAAQ,SAAS,CAAC,WAAW;oBAC1C,CAAC;gBACD,cAAc,QAAQ,MAAM,CAAC,QAAQ;YACvC,CAAC;QAED,MAAM,QAAQ;YACZ;gBAAE,OAAO;gBAAkB,OAAO;YAAM;YACxC;gBAAE,OAAO;gBAAW,OAAO;YAAQ;YACnC;gBAAE,OAAO;gBAAe,OAAO;YAAW;YAC1C;gBAAE,OAAO;gBAAa,OAAO;YAAU;SACxC;QAED,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT;YACA,UAAU;YACV,OAAO,oBAAoB,MAAM;QACnC;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,OAAO;YACP,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;QAC3D,GACA;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}