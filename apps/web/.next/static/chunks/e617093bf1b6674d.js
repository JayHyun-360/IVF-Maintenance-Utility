(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,r,s)=>{r.exports=e.r(76562)},99809,e=>{"use strict";var r=e.i(71645);function s(){let[e,s]=(0,r.useState)({isMobile:!1,isTablet:!1,isDesktop:!0,screenWidth:1024,screenHeight:768,orientation:"landscape",supportsTouch:!1,supportsHaptic:!1,safeAreaInsets:{top:0,right:0,bottom:0,left:0}});return(0,r.useEffect)(()=>(setTimeout(()=>{let e=()=>{let e=window.innerWidth,r=window.innerHeight,t=getComputedStyle(document.documentElement),o={top:parseInt(t.getPropertyValue("--mobile-safe-area-top")||"0"),right:parseInt(t.getPropertyValue("--mobile-safe-area-right")||"0"),bottom:parseInt(t.getPropertyValue("--mobile-safe-area-bottom")||"0"),left:parseInt(t.getPropertyValue("--mobile-safe-area-left")||"0")};s({isMobile:e<768,isTablet:e>=768&&e<1024,isDesktop:e>=1024,screenWidth:e,screenHeight:r,orientation:e>r?"landscape":"portrait",supportsTouch:"ontouchstart"in window||navigator.maxTouchPoints>0,supportsHaptic:"vibrate"in navigator,safeAreaInsets:o})};e();let r=new ResizeObserver(e);r.observe(document.body);let t=()=>{setTimeout(e,100)};return window.addEventListener("orientationchange",t),window.addEventListener("resize",e),()=>{r.disconnect(),window.removeEventListener("orientationchange",t),window.removeEventListener("resize",e)}},100),()=>{}),[]),e}function t(){let{supportsHaptic:e}=s(),r=(r=10)=>{if(e&&navigator.vibrate)try{navigator.vibrate(r)}catch(e){console.warn("Haptic feedback not supported:",e)}};return{triggerHaptic:r,triggerLightHaptic:()=>r(10),triggerMediumHaptic:()=>r([10,50,10]),triggerHeavyHaptic:()=>r([20,100,20]),triggerSuccessHaptic:()=>r([10,30,10,30,10]),triggerErrorHaptic:()=>r([50,50,50,50,50]),supportsHaptic:e}}e.s(["useHapticFeedback",()=>t,"useMobileOptimizations",()=>s])},82805,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(8013),o=e.i(73940);let a=[{value:"standard",label:"Academic Minimalist",icon:"ï¿½",colors:{primary:"#1B4332",secondary:"#FFFFFF"},description:"Clean forest green and white theme"},{value:"light",label:"Academic Light",icon:"ðŸ“–",colors:{primary:"#1B4332",secondary:"#F8FAFC"},description:"Light gray with forest green accents"},{value:"dark",label:"Academic Dark",icon:"ðŸŒƒ",colors:{primary:"#1B4332",secondary:"#0F172A"},description:"Dark slate with forest green accents"}];function l(){let{themeConfig:e,setTheme:l}=(0,t.useTheme)(),[n,i]=(0,s.useState)(()=>(0,o.getStoredTheme)()),[c,d]=(0,s.useState)(!1),u=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let m=a.find(e=>e.value===n);return(0,r.jsxs)("div",{className:"relative",ref:u,children:[(0,r.jsxs)("button",{onClick:()=>d(!c),className:"flex items-center space-x-2 px-3 py-2 rounded-md transition-all duration-200 hover:shadow-sm active:scale-95",style:{backgroundColor:e.colors.surface,border:`1px solid ${e.colors.border}`,color:e.colors.text},children:[(0,r.jsx)("span",{className:"text-lg",children:m?.icon}),(0,r.jsx)("span",{className:"text-sm font-medium",children:m?.label}),(0,r.jsx)("svg",{className:`w-4 h-4 transition-transform duration-200 ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&(0,r.jsx)("div",{className:"absolute top-full right-0 mt-2 w-56 rounded-md shadow-sm border",style:{backgroundColor:e.colors.surface,borderColor:e.colors.border,zIndex:9999},children:(0,r.jsx)("div",{className:"p-2",children:a.map(s=>(0,r.jsxs)("button",{onClick:()=>{var e;n!==(e=s.value)&&(i(e),(0,o.setStoredTheme)(e),(0,o.applyTheme)(e),l(e),d(!1))},className:`w-full flex items-center space-x-3 px-3 py-2 rounded-md transition-all duration-200 ${n===s.value?"bg-primary/10":"hover:bg-surface"}`,style:{color:e.colors.text},children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-lg",children:s.icon}),(0,r.jsxs)("div",{className:"flex space-x-1",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:s.colors.primary,borderColor:e.colors.border}}),(0,r.jsx)("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:s.colors.secondary,borderColor:e.colors.border}})]})]}),(0,r.jsxs)("div",{className:"flex-1 text-left",children:[(0,r.jsx)("div",{className:"text-sm font-medium",children:s.label}),(0,r.jsx)("div",{className:"text-xs",style:{color:e.colors.textSecondary},children:s.description})]}),n===s.value&&(0,r.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},s.value))})})]})}e.s(["default",()=>l])},93784,e=>{"use strict";let r={BASE:0,DROPDOWN:10,DROPDOWN_CONTENT:11,STICKY:20,MODAL_BACKDROP:1e3,MODAL:1001,TOOLTIP:1002,NOTIFICATION:1003,MAX:9999};r.BASE,r.DROPDOWN,r.STICKY,r.MODAL_BACKDROP,r.MODAL,r.TOOLTIP,r.NOTIFICATION,r.MAX,e.s(["Z_INDEX",0,r])},16028,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(18566),o=e.i(17255),a=e.i(8013),l=e.i(82805),n=e.i(93784),i=e.i(99809);function c(){let e=(0,t.useRouter)();(0,t.useSearchParams)();let{themeConfig:c}=(0,a.useTheme)(),{isMobile:d}=(0,i.useMobileOptimizations)(),[u,m]=(0,s.useState)(!1),[x,p]=(0,s.useState)(""),[h,b]=(0,s.useState)(null),[g,f]=(0,s.useState)(null),[v,y]=(0,s.useState)(!1);(0,s.useEffect)(()=>{y(!0),(async()=>{let r=await (0,o.getSession)();r?b(r.user):e.push("/login")})()},[e]);let j=async r=>{if(h){f(r),m(!0),p("");try{let s=await fetch("/api/auth/check-role",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h.email})}),t=await s.json();if(!s.ok){if("User not found"===t.error)return void p("User not found in system. Please register first.");throw Error(t.error||"Failed to verify role")}let o=t.role;if("admin"===r&&"ADMIN"!==o)return void p("You are not authorized to access as Admin. Your role is User.");if("user"===r&&"ADMIN"===o)return void p("You are registered as an Admin. Please sign in as Admin.");"admin"===r?e.push("/admin-pin-verification"):e.push("/student")}catch(e){p("Failed to verify role. Please try again.")}finally{m(!1)}}},N=async()=>{await (0,o.signOut)({redirect:!1}),e.push("/login")};return h?(0,r.jsxs)("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 relative overflow-hidden",style:{backgroundColor:c.colors.background},children:[(0,r.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:(0,r.jsx)("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:`linear-gradient(${c.colors.text} 1px, transparent 1px), linear-gradient(90deg, ${c.colors.text} 1px, transparent 1px)`,backgroundSize:d?"30px 30px":"50px 50px"}})}),(0,r.jsx)("div",{className:`fixed ${d?"top-4 right-4":"top-6 right-6"}`,style:{zIndex:n.Z_INDEX.DROPDOWN},children:(0,r.jsx)(l.default,{})}),(0,r.jsxs)("div",{className:`w-full ${d?"max-w-sm":"max-w-2xl"} relative z-10 rounded-3xl ${d?"p-6":"p-10"} backdrop-blur-xl`,style:{background:`linear-gradient(145deg, ${c.colors.surface}f5 0%, ${c.colors.surface}e0 50%, ${c.colors.background}f0 100%)`,border:`1px solid ${c.colors.border}80`,boxShadow:`
            0 25px 50px -12px rgba(0, 0, 0, 0.25),
            0 0 0 1px ${c.colors.border}20,
            inset 0 1px 0 ${c.colors.surface}80
          `,opacity:+!!v,transform:v?"translateY(0)":"translateY(20px)",transition:"opacity 0.6s ease-out, transform 0.6s ease-out"},children:[(0,r.jsx)("div",{className:"absolute top-0 left-8 right-8 h-1 rounded-full",style:{background:`linear-gradient(90deg, ${c.colors.primary}, ${c.colors.secondary}, ${c.colors.accent})`}}),(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsxs)("div",{className:"relative inline-block mb-6",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-3xl blur-xl opacity-50",style:{background:`linear-gradient(135deg, ${c.colors.primary} 0%, ${c.colors.secondary} 100%)`,transform:"scale(1.2)"}}),(0,r.jsx)("div",{className:`relative ${d?"w-16 h-16":"w-24 h-24"} rounded-3xl flex items-center justify-center shadow-2xl`,style:{background:`linear-gradient(135deg, ${c.colors.primary} 0%, ${c.colors.secondary} 100%)`},children:(0,r.jsx)("svg",{className:`${d?"w-8 h-8":"w-12 h-12"} text-white`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),(0,r.jsx)("h1",{className:`${d?"text-2xl":"text-3xl"} font-bold mb-3 tracking-tight`,style:{color:c.colors.text},children:"Welcome back!"}),(0,r.jsx)("p",{className:`${d?"text-base":"text-lg"} font-medium mb-1`,style:{color:c.colors.text},children:h.name||h.email}),(0,r.jsx)("p",{className:"text-sm",style:{color:c.colors.textSecondary},children:"Select your role to continue"})]}),x&&(0,r.jsxs)("div",{className:`mb-6 ${d?"p-3":"p-4"} rounded-xl text-center flex items-center justify-center gap-2`,style:{backgroundColor:`${c.colors.error}15`,border:`1px solid ${c.colors.error}30`,color:c.colors.error},children:[(0,r.jsx)("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{className:d?"text-sm":"text-base",children:x})]}),(0,r.jsxs)("div",{className:`grid ${d?"grid-cols-1 gap-4":"grid-cols-2 gap-6"} mb-8`,children:[(0,r.jsxs)("button",{onClick:()=>j("admin"),disabled:u,className:`group relative ${d?"p-5":"p-8"} rounded-2xl text-center transition-all duration-500 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden`,style:{background:"admin"===g?`linear-gradient(135deg, ${c.colors.primary} 0%, ${c.colors.secondary} 100%)`:`linear-gradient(145deg, ${c.colors.surface} 0%, ${c.colors.background} 100%)`,border:`2px solid ${"admin"===g?c.colors.primary:c.colors.border}`,boxShadow:"admin"===g?`0 20px 40px ${c.colors.primary}30`:"0 4px 15px rgba(0, 0, 0, 0.05)"},children:[u&&"admin"===g&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 backdrop-blur-sm rounded-2xl",children:(0,r.jsx)("div",{className:"w-8 h-8 border-3 border-white border-t-transparent rounded-full animate-spin"})}),(0,r.jsxs)("div",{className:"relative z-10 flex flex-col items-center",children:[(0,r.jsx)("div",{className:`${d?"w-14 h-14 mb-3":"w-16 h-16 mb-4"} rounded-2xl flex items-center justify-center transition-all duration-300 group-hover:scale-110`,style:{background:"admin"===g?"rgba(255,255,255,0.2)":`linear-gradient(135deg, ${c.colors.primary}20 0%, ${c.colors.secondary}20 100%)`},children:(0,r.jsx)("svg",{className:`${d?"w-7 h-7":"w-8 h-8"}`,style:{color:"admin"===g?"#FFFFFF":c.colors.primary},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,r.jsx)("span",{className:`${d?"text-base":"text-lg"} font-bold mb-1`,style:{color:"admin"===g?"#FFFFFF":c.colors.text},children:"Administrator"}),(0,r.jsx)("span",{className:`${d?"text-xs":"text-sm"}`,style:{color:"admin"===g?"rgba(255,255,255,0.8)":c.colors.textSecondary},children:"Manage system & requests"})]})]}),(0,r.jsxs)("button",{onClick:()=>j("user"),disabled:u,className:`group relative ${d?"p-5":"p-8"} rounded-2xl text-center transition-all duration-500 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden`,style:{background:"user"===g?`linear-gradient(135deg, ${c.colors.success} 0%, ${c.colors.accent} 100%)`:`linear-gradient(145deg, ${c.colors.surface} 0%, ${c.colors.background} 100%)`,border:`2px solid ${"user"===g?c.colors.success:c.colors.border}`,boxShadow:"user"===g?`0 20px 40px ${c.colors.success}30`:"0 4px 15px rgba(0, 0, 0, 0.05)"},children:[(0,r.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{background:`linear-gradient(135deg, ${c.colors.success}15 0%, ${c.colors.accent}15 100%)`}}),u&&"user"===g&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 backdrop-blur-sm rounded-2xl",children:(0,r.jsx)("div",{className:"w-8 h-8 border-3 border-white border-t-transparent rounded-full animate-spin"})}),(0,r.jsxs)("div",{className:"relative z-10 flex flex-col items-center",children:[(0,r.jsx)("div",{className:`${d?"w-14 h-14 mb-3":"w-16 h-16 mb-4"} rounded-2xl flex items-center justify-center transition-all duration-300 group-hover:scale-110`,style:{background:"user"===g?"rgba(255,255,255,0.2)":`linear-gradient(135deg, ${c.colors.success}20 0%, ${c.colors.accent}20 100%)`},children:(0,r.jsx)("svg",{className:`${d?"w-7 h-7":"w-8 h-8"}`,style:{color:"user"===g?"#FFFFFF":c.colors.success},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,r.jsx)("span",{className:`${d?"text-base":"text-lg"} font-bold mb-1`,style:{color:"user"===g?"#FFFFFF":c.colors.text},children:"User"}),(0,r.jsx)("span",{className:`${d?"text-xs":"text-sm"}`,style:{color:"user"===g?"rgba(255,255,255,0.8)":c.colors.textSecondary},children:"Submit maintenance requests"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,r.jsx)("div",{className:"flex-1 h-px",style:{backgroundColor:c.colors.border}}),(0,r.jsx)("span",{className:"text-xs font-medium",style:{color:c.colors.textSecondary},children:"or"}),(0,r.jsx)("div",{className:"flex-1 h-px",style:{backgroundColor:c.colors.border}})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("button",{onClick:N,className:"group inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 hover:bg-opacity-10",style:{color:c.colors.textSecondary,backgroundColor:"transparent"},children:[(0,r.jsx)("svg",{className:"w-4 h-4 transition-transform duration-300 group-hover:-translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,r.jsx)("span",{children:"Not you? Sign out"})]})})]}),(0,r.jsxs)("p",{className:"absolute bottom-4 left-0 right-0 text-center text-xs",style:{color:c.colors.textSecondary},children:["Â© ",new Date().getFullYear()," IVF Maintenance Utility"]})]}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:c.colors.background},children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 rounded-2xl flex items-center justify-center animate-pulse",style:{background:`linear-gradient(135deg, ${c.colors.primary}40 0%, ${c.colors.secondary}40 100%)`},children:(0,r.jsx)("div",{className:"w-8 h-8 border-3 border-current border-t-transparent rounded-full animate-spin",style:{borderColor:c.colors.primary,borderTopColor:"transparent"}})}),(0,r.jsx)("p",{className:"text-lg font-medium",style:{color:c.colors.text},children:"Loading your profile..."}),(0,r.jsx)("p",{className:"text-sm mt-2",style:{color:c.colors.textSecondary},children:"Please wait a moment"})]})})}function d(){let{themeConfig:e}=(0,a.useTheme)();return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#0F172A"},children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center animate-pulse",children:(0,r.jsx)("div",{className:"w-8 h-8 border-3 border-white border-t-transparent rounded-full animate-spin"})}),(0,r.jsx)("p",{className:"text-white/80 text-lg font-medium",children:"Loading..."})]})}),children:(0,r.jsx)(c,{})})}e.s(["default",()=>d])}]);