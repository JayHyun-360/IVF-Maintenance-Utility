(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93784,e=>{"use strict";let r={BASE:0,DROPDOWN:10,DROPDOWN_CONTENT:11,STICKY:20,MODAL_BACKDROP:1e3,MODAL:1001,TOOLTIP:1002,NOTIFICATION:1003,MAX:9999};r.BASE,r.DROPDOWN,r.STICKY,r.MODAL_BACKDROP,r.MODAL,r.TOOLTIP,r.NOTIFICATION,r.MAX,e.s(["Z_INDEX",0,r])},18566,(e,r,o)=>{r.exports=e.r(76562)},99809,e=>{"use strict";var r=e.i(71645);function o(){let[e,o]=(0,r.useState)({isMobile:!1,isTablet:!1,isDesktop:!0,screenWidth:1024,screenHeight:768,orientation:"landscape",supportsTouch:!1,supportsHaptic:!1,safeAreaInsets:{top:0,right:0,bottom:0,left:0}});return(0,r.useEffect)(()=>(setTimeout(()=>{let e=()=>{let e=window.innerWidth,r=window.innerHeight,s=getComputedStyle(document.documentElement),l={top:parseInt(s.getPropertyValue("--mobile-safe-area-top")||"0"),right:parseInt(s.getPropertyValue("--mobile-safe-area-right")||"0"),bottom:parseInt(s.getPropertyValue("--mobile-safe-area-bottom")||"0"),left:parseInt(s.getPropertyValue("--mobile-safe-area-left")||"0")};o({isMobile:e<768,isTablet:e>=768&&e<1024,isDesktop:e>=1024,screenWidth:e,screenHeight:r,orientation:e>r?"landscape":"portrait",supportsTouch:"ontouchstart"in window||navigator.maxTouchPoints>0,supportsHaptic:"vibrate"in navigator,safeAreaInsets:l})};e();let r=new ResizeObserver(e);r.observe(document.body);let s=()=>{setTimeout(e,100)};return window.addEventListener("orientationchange",s),window.addEventListener("resize",e),()=>{r.disconnect(),window.removeEventListener("orientationchange",s),window.removeEventListener("resize",e)}},100),()=>{}),[]),e}function s(){let{supportsHaptic:e}=o(),r=(r=10)=>{if(e&&navigator.vibrate)try{navigator.vibrate(r)}catch(e){console.warn("Haptic feedback not supported:",e)}};return{triggerHaptic:r,triggerLightHaptic:()=>r(10),triggerMediumHaptic:()=>r([10,50,10]),triggerHeavyHaptic:()=>r([20,100,20]),triggerSuccessHaptic:()=>r([10,30,10,30,10]),triggerErrorHaptic:()=>r([50,50,50,50,50]),supportsHaptic:e}}e.s(["useHapticFeedback",()=>s,"useMobileOptimizations",()=>o])},87896,e=>{"use strict";var r=e.i(43476),o=e.i(71645),s=e.i(17255),l=e.i(18566),t=e.i(8013);function a({children:e,requiredRole:a,redirectTo:c="/login"}){let{data:n,status:i}=(0,s.useSession)(),d=(0,l.useRouter)(),{themeConfig:u}=(0,t.useTheme)(),[x,m]=(0,o.useState)(!1),[p,h]=(0,o.useState)("");return((0,o.useEffect)(()=>{let e=setTimeout(()=>{"loading"===i&&(m(!0),h(`Status: ${i}, Session: ${!!n}, Required Role: ${a}`))},5e3);return()=>clearTimeout(e)},[i,n,a]),(0,o.useEffect)(()=>{if(console.log("AuthGuard Debug:",{status:i,hasSession:!!n,userRole:n?.user?.role,requiredRole:a,redirectTo:c}),"loading"!==i){if(!n){console.log("No session found, redirecting to:",c),d.push(c);return}if(a&&n.user?.role!==a){console.log("Role mismatch:",{userRole:n.user?.role,requiredRole:a}),"ADMIN"===a&&n.user?.role!=="ADMIN"?d.push("/student"):"USER"===a&&n.user?.role==="ADMIN"||d.push("/login");return}}},[n,i,d,a,c]),"loading"===i)?x?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:u.colors.background},children:(0,r.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,r.jsx)("div",{className:"rounded-full h-12 w-12 mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:`${u.colors.warning}20`},children:(0,r.jsx)("svg",{className:"w-6 h-6",style:{color:u.colors.warning},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,r.jsx)("p",{style:{color:u.colors.text,fontFamily:"Inter, system-ui, sans-serif",marginBottom:"16px"},children:"Authentication is taking longer than expected"}),p&&(0,r.jsx)("p",{style:{color:u.colors.textSecondary,fontFamily:"monospace",fontSize:"12px",marginBottom:"16px"},children:p}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("button",{onClick:()=>window.location.reload(),style:{backgroundColor:u.colors.primary,color:"white",padding:"8px 16px",borderRadius:"6px",fontSize:"14px",cursor:"pointer",marginRight:"8px"},children:"Refresh Page"}),(0,r.jsx)("button",{onClick:()=>d.push("/login"),style:{backgroundColor:u.colors.textSecondary,color:"white",padding:"8px 16px",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:"Go to Login"})]})]})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:u.colors.background},children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:u.colors.primary}}),(0,r.jsx)("p",{style:{color:u.colors.text,fontFamily:"Inter, system-ui, sans-serif"},children:"Verifying access..."}),(0,r.jsxs)("p",{style:{color:u.colors.textSecondary,fontFamily:"Inter, system-ui, sans-serif",fontSize:"12px",marginTop:"8px"},children:["Status: ",i]})]})}):(0,r.jsx)(r.Fragment,{children:e})}e.s(["default",()=>a])},75176,e=>{"use strict";var r=e.i(43476),o=e.i(71645),s=e.i(18566),l=e.i(8013),t=e.i(99809);function a({title:e,breadcrumbs:a=[],showMenuToggle:c=!0,actions:n}){let i=(0,s.useRouter)(),d=(0,s.usePathname)(),{themeConfig:u}=(0,l.useTheme)(),{isMobile:x}=(0,t.useMobileOptimizations)(),[m,p]=(0,o.useState)(!1),h=(()=>{if(a.length>0)return a;let e=d.split("/").filter(Boolean),r=[{label:"Home",href:"/"}],o="";return e.forEach((s,l)=>{o+=`/${s}`;let t=s.charAt(0).toUpperCase()+s.slice(1).replace(/-/g," ");l===e.length-1?r.push({label:t}):r.push({label:t,href:o})}),r})();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("header",{className:"sticky top-0 z-40 border-b",style:{backgroundColor:u.colors.background,borderColor:u.colors.border},children:(0,r.jsx)("div",{className:`${x?"px-4":"px-6"} py-3`,children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[c&&(0,r.jsx)("button",{onClick:()=>{p(!m)},className:"p-2 rounded-lg border transition-all duration-200 hover:bg-gray-50 active:scale-95",style:{borderColor:u.colors.border,backgroundColor:"transparent"},children:(0,r.jsx)("svg",{className:"w-5 h-5",style:{color:u.colors.text},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[e&&(0,r.jsx)("h1",{className:"text-lg font-semibold truncate",style:{color:u.colors.text,fontFamily:"Inter, system-ui, sans-serif"},children:e}),(0,r.jsx)("nav",{className:"flex items-center space-x-1 text-sm mt-1",children:h.map((e,s)=>(0,r.jsxs)(o.default.Fragment,{children:[s>0&&(0,r.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",style:{color:u.colors.textSecondary},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),(0,r.jsx)("button",{onClick:()=>{var r;(r=e.href)&&i.push(r)},className:`truncate ${e.href?"hover:text-blue-600 transition-colors":"text-gray-500 font-medium"}`,style:{color:(e.href,u.colors.textSecondary),fontFamily:"Inter, system-ui, sans-serif"},children:e.label})]},s))})]})]}),n&&(0,r.jsx)("div",{className:"flex items-center space-x-2 ml-4",children:n})]})})}),m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-30 bg-black bg-opacity-50",onClick:()=>p(!1)}),(0,r.jsxs)("div",{className:"fixed top-0 left-0 bottom-0 z-40 w-72 overflow-y-auto",style:{backgroundColor:u.colors.background,borderRight:`1px solid ${u.colors.border}`},children:[(0,r.jsx)("div",{className:"p-4 border-b",style:{borderColor:u.colors.border},children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",style:{color:u.colors.text,fontFamily:"Inter, system-ui, sans-serif"},children:"Navigation"}),(0,r.jsx)("button",{onClick:()=>p(!1),className:"p-2 rounded-lg hover:bg-gray-50 transition-colors",children:(0,r.jsx)("svg",{className:"w-5 h-5",style:{color:u.colors.text},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,r.jsx)("nav",{className:"p-2",children:[{href:"/",label:"Home",icon:"ðŸ "},{href:"/dashboard",label:"Dashboard",icon:"ðŸ“Š"},{href:"/student",label:"Requests",icon:"ðŸ“"},{href:"/student/history",label:"History",icon:"ðŸ“š"},{href:"/settings",label:"Settings",icon:"âš™ï¸"}].map(e=>(0,r.jsxs)("button",{onClick:()=>{i.push(e.href),p(!1)},className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${d===e.href?"bg-blue-50 text-blue-600":"hover:bg-gray-50"}`,style:{color:d===e.href?u.colors.primary:u.colors.text},children:[(0,r.jsx)("span",{className:"text-lg",children:e.icon}),(0,r.jsx)("span",{className:"font-medium",style:{fontFamily:"Inter, system-ui, sans-serif"},children:e.label}),d===e.href&&(0,r.jsx)("svg",{className:"w-4 h-4 ml-auto",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},e.href))})]})]})]})}e.s(["default",()=>a])},63582,e=>{"use strict";var r=e.i(43476),o=e.i(8013);function s({children:e,onClick:s,type:l="button",variant:t="primary",size:a="md",disabled:c=!1,loading:n=!1,className:i="",fullWidth:d=!1,hapticFeedback:u=!0,onTouchStart:x,onTouchEnd:m,style:p={}}){let{themeConfig:h}=(0,o.useTheme)(),b=()=>{u&&"vibrate"in navigator&&navigator.vibrate(10)},y=(()=>{switch(t){case"primary":default:return{backgroundColor:h.colors.primary,color:h.colors.secondary,border:`1px solid ${h.colors.primary}`,boxShadow:"0 1px 2px 0 rgb(0 0 0 / 0.05)"};case"secondary":return{backgroundColor:h.colors.surface,color:h.colors.text,border:`1px solid ${h.colors.border}`};case"danger":return{backgroundColor:h.colors.error,color:h.colors.secondary,border:`1px solid ${h.colors.error}`,boxShadow:"0 1px 2px 0 rgb(0 0 0 / 0.05)"};case"ghost":return{backgroundColor:"transparent",color:h.colors.text,border:`1px solid ${h.colors.border}`}}})();return(0,r.jsx)("button",{type:l,onClick:()=>{b(),s?.()},onTouchStart:()=>{b(),x?.()},onTouchEnd:m,disabled:c||n,className:`
        ${(()=>{switch(a){case"sm":return"px-3 py-2 text-xs";case"md":default:return"px-4 py-3 text-sm";case"lg":return"px-6 py-4 text-base";case"mobile":return"px-4 py-4 text-base min-h-[44px] min-w-[44px]"}})()}
        ${d?"w-full":""}
        rounded-md font-medium transition-all duration-200 
        hover:shadow-sm active:scale-95
        disabled:opacity-50 disabled:cursor-not-allowed
        disabled:hover:shadow-none disabled:hover:scale-100
        ${u?"haptic-feedback":""}
        touch-manipulation
        ${i}
      `,style:{...y,...p},children:n?(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"Loading..."})]}):e})}e.s(["default",()=>s])},62243,e=>{"use strict";var r=e.i(43476),o=e.i(8013),s=e.i(99809);function l({children:e,title:l,subtitle:t,className:a="",divided:c=!0,compact:n=!1}){let{themeConfig:i}=(0,o.useTheme)(),{isMobile:d}=(0,s.useMobileOptimizations)();return(0,r.jsxs)("div",{className:`bg-white rounded-lg border ${a}`,style:{borderColor:i.colors.border},children:[(l||t)&&(0,r.jsxs)("div",{className:`px-4 ${n?"py-3":"py-4"} border-b`,style:{borderColor:i.colors.border},children:[l&&(0,r.jsx)("h3",{className:`font-semibold ${n?"text-sm":"text-base"}`,style:{color:i.colors.text,fontFamily:"Inter, system-ui, sans-serif"},children:l}),t&&(0,r.jsx)("p",{className:`mt-1 ${n?"text-xs":"text-sm"}`,style:{color:i.colors.textSecondary,fontFamily:"Inter, system-ui, sans-serif"},children:t})]}),(0,r.jsx)("div",{className:c?"divide-y":"",style:{borderColor:i.colors.border},children:e})]})}function t({children:e,title:l,subtitle:t,leftIcon:a,rightElement:c,onClick:n,className:i="",disabled:d=!1,badge:u,status:x="default"}){let{themeConfig:m}=(0,o.useTheme)(),{isMobile:p}=(0,s.useMobileOptimizations)(),h=()=>{switch(x){case"success":return m.colors.success;case"warning":return m.colors.warning;case"error":return m.colors.error;default:return m.colors.primary}},b=n?"button":"div",y=n?{onClick:n}:{};return(0,r.jsxs)(b,{...y,className:`
        w-full px-4 py-3 flex items-center justify-between
        ${n&&!d?"hover:bg-gray-50 transition-colors active:bg-gray-100":""}
        ${d?"opacity-50 cursor-not-allowed":n?"cursor-pointer":""}
        ${i}
      `,style:{fontFamily:"Inter, system-ui, sans-serif"},children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[a&&(0,r.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-md flex items-center justify-center",style:{backgroundColor:`${h()}10`,color:h()},children:a}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[l&&(0,r.jsx)("div",{className:"font-medium text-sm truncate",style:{color:m.colors.text,fontFamily:"Inter, system-ui, sans-serif"},children:l}),t&&(0,r.jsx)("div",{className:"text-xs truncate mt-0.5",style:{color:m.colors.textSecondary,fontFamily:"Inter, system-ui, sans-serif"},children:t}),e&&(0,r.jsx)("div",{className:"text-xs mt-1",children:e})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0 ml-3",children:[u&&(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`${h()}10`,color:h()},children:u}),c&&(0,r.jsx)("div",{className:"flex-shrink-0",children:c}),n&&!c&&(0,r.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",style:{color:m.colors.textSecondary},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})}function a({stats:e,columns:l=4,compact:t=!1}){let{themeConfig:a}=(0,o.useTheme)(),{isMobile:c}=(0,s.useMobileOptimizations)();return(0,r.jsx)("div",{className:`rounded-lg border ${t?"p-3":"p-4"}`,style:{borderColor:a.colors.border,backgroundColor:a.colors.surface},children:(0,r.jsx)("div",{className:`grid ${(()=>{if(c)return"grid-cols-2";switch(l){case 2:default:return"grid-cols-2";case 3:return"grid-cols-3";case 4:return"grid-cols-4";case 5:return"grid-cols-5"}})()} gap-4`,children:e.map((e,o)=>(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:`${t?"text-lg":"text-2xl"} font-semibold`,style:{color:a.colors.text,fontFamily:"Inter, system-ui, sans-serif"},children:e.value}),(0,r.jsx)("div",{className:`${t?"text-xs":"text-sm"} mt-1`,style:{color:a.colors.textSecondary,fontFamily:"Inter, system-ui, sans-serif"},children:e.label}),e.change&&(0,r.jsx)("div",{className:"text-xs mt-1 font-medium",style:{color:"increase"===e.change.type?a.colors.success:"decrease"===e.change.type?a.colors.error:a.colors.textSecondary},children:e.change.value})]},o))})})}e.s(["WebListGroup",()=>l,"WebListGroupItem",()=>t,"WebStatsList",()=>a])},4143,e=>{"use strict";var r=e.i(43476),o=e.i(71645),s=e.i(18566),l=e.i(8013),t=e.i(63582),a=e.i(93784),c=e.i(87896),n=e.i(99809),i=e.i(75176),d=e.i(62243);function u(){let e=(0,s.useRouter)(),{themeConfig:u}=(0,l.useTheme)(),{isMobile:x}=(0,n.useMobileOptimizations)(),[m,p]=(0,o.useState)([]),[h,b]=(0,o.useState)(!0),y=async()=>{try{b(!0);let e=await fetch("/api/admin/users");if(e.ok){let r=(await e.json()).map(e=>({...e,department:"Facilities",status:"ACTIVE",lastLogin:new Date(e.createdAt)}));p(r)}}catch(e){console.error("Error fetching users:",e)}finally{b(!1)}};(0,o.useEffect)(()=>{y()},[]);let[g,f]=(0,o.useState)(!1),[j,v]=(0,o.useState)(!1),[N,C]=(0,o.useState)(!1),[k,w]=(0,o.useState)(null),[S,A]=(0,o.useState)({name:"",email:"",role:"STUDENT",department:"",status:"ACTIVE"}),[T,E]=(0,o.useState)({}),[I,L]=(0,o.useState)(!1),[D,F]=(0,o.useState)(""),[$,M]=(0,o.useState)("ALL"),[O,R]=(0,o.useState)("ALL"),B=async()=>{if(P()){L(!0);try{let e=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...S,password:"password123"})});if(e.ok)await y(),f(!1),A({name:"",email:"",role:"STUDENT",department:"",status:"ACTIVE"}),E({});else{let r=await e.json();alert(r.error||"Failed to add user")}}catch(e){console.error("Error adding user:",e)}finally{L(!1)}}},z=async()=>{if(P()&&k){L(!0);try{let e=await fetch(`/api/admin/users/${k.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:S.name,email:S.email,role:S.role})});if(e.ok)await y(),v(!1),w(null),A({name:"",email:"",role:"STUDENT",department:"",status:"ACTIVE"}),E({});else{let r=await e.json();alert(r.error||"Failed to update user")}}catch(e){console.error("Error updating user:",e)}finally{L(!1)}}},U=async()=>{if(k){L(!0);try{let e=await fetch(`/api/admin/users/${k.id}`,{method:"DELETE"});if(e.ok)await y(),C(!1),w(null);else{let r=await e.json();alert(r.error||"Failed to delete user")}}catch(e){console.error("Error deleting user:",e)}finally{L(!1)}}},P=()=>{let e={};return S.name.trim()||(e.name="Name is required"),S.email.trim()?/\S+@\S+\.\S+/.test(S.email)||(e.email="Email is invalid"):e.email="Email is required",S.department.trim()||(e.department="Department is required"),E(e),0===Object.keys(e).length},V=m.filter(e=>{let r=e.name.toLowerCase().includes(D.toLowerCase())||e.email.toLowerCase().includes(D.toLowerCase())||e.department.toLowerCase().includes(D.toLowerCase()),o="ALL"===$||e.role===$,s="ALL"===O||e.status===O;return r&&o&&s});return(0,r.jsx)(c.default,{requiredRole:"ADMIN",children:(0,r.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:u.colors.background},children:[x?(0,r.jsx)(i.default,{title:"User Management",breadcrumbs:[{label:"Admin Dashboard",href:"/admin/dashboard"},{label:"User Management"}],actions:(0,r.jsx)(t.default,{onClick:()=>f(!0),size:"sm",children:"Add User"})}):(0,r.jsx)("header",{className:"px-8 py-6 border-b",style:{borderColor:u.colors.border},children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("button",{onClick:()=>e.push("/admin/dashboard"),className:"p-3 rounded-xl mr-4",style:{backgroundColor:u.colors.surface,color:u.colors.text,border:`1px solid ${u.colors.border}`},children:"â†"}),(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"text-2xl font-bold",style:{color:u.colors.text},children:"User Management"})})]}),(0,r.jsx)(t.default,{onClick:()=>f(!0),children:"Add User"})]})}),x?(0,r.jsx)("div",{className:"px-4 py-4",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto space-y-4",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg border p-3",style:{borderColor:"#E5E7EB"},children:[(0,r.jsx)("input",{type:"text",placeholder:"Search users...",value:D,onChange:e=>F(e.target.value),className:"w-full px-3 py-2 rounded-lg text-sm mb-3",style:{backgroundColor:"#F9FAFB",borderColor:"#E5E7EB",color:u.colors.text,border:"1px solid"}}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("select",{value:$,onChange:e=>M(e.target.value),className:"px-3 py-2 rounded-lg border text-sm",style:{backgroundColor:"#F9FAFB",borderColor:"#E5E7EB",color:u.colors.text},children:[(0,r.jsx)("option",{value:"ALL",children:"All Roles"}),(0,r.jsx)("option",{value:"ADMIN",children:"Admin"}),(0,r.jsx)("option",{value:"STAFF",children:"Staff"}),(0,r.jsx)("option",{value:"STUDENT",children:"Student"})]}),(0,r.jsxs)("select",{value:O,onChange:e=>R(e.target.value),className:"px-3 py-2 rounded-lg border text-sm",style:{backgroundColor:"#F9FAFB",borderColor:"#E5E7EB",color:u.colors.text},children:[(0,r.jsx)("option",{value:"ALL",children:"All Status"}),(0,r.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,r.jsx)("option",{value:"INACTIVE",children:"Inactive"})]})]})]}),(0,r.jsx)(d.WebListGroup,{title:"Users",children:V.map(e=>(0,r.jsx)(d.WebListGroupItem,{title:e.name,subtitle:`${e.email} â€¢ ${e.department}`,rightElement:(0,r.jsxs)("div",{className:"flex flex-col items-end space-y-1",children:[(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"ADMIN"===e.role?`${u.colors.primary}20`:"STAFF"===e.role?`${u.colors.secondary}20`:`${u.colors.success}20`,color:"ADMIN"===e.role?u.colors.primary:"STAFF"===e.role?u.colors.secondary:u.colors.success},children:e.role}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"ACTIVE"===e.status?`${u.colors.success}20`:`${u.colors.error}20`,color:"ACTIVE"===e.status?u.colors.success:u.colors.error},children:e.status})]}),onClick:()=>{w(e),v(!0)}},e.id))})]})}):(0,r.jsx)("main",{className:"px-8 py-8",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsx)("div",{className:"rounded-2xl p-6 mb-6",style:{backgroundColor:u.colors.surface,border:`1px solid ${u.colors.border}`},children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3 lg:gap-4",children:[(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsx)("input",{type:"text",placeholder:"Search by name, email, or department...",value:D,onChange:e=>F(e.target.value),className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:u.colors.background,borderColor:u.colors.border,color:u.colors.text}})}),(0,r.jsxs)("select",{value:$,onChange:e=>M(e.target.value),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:u.colors.background,borderColor:u.colors.border,color:u.colors.text},children:[(0,r.jsx)("option",{value:"ALL",children:"All Roles"}),(0,r.jsx)("option",{value:"ADMIN",children:"Admin"}),(0,r.jsx)("option",{value:"STAFF",children:"Staff"}),(0,r.jsx)("option",{value:"STUDENT",children:"Student"})]}),(0,r.jsxs)("select",{value:O,onChange:e=>R(e.target.value),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:u.colors.background,borderColor:u.colors.border,color:u.colors.text},children:[(0,r.jsx)("option",{value:"ALL",children:"All Status"}),(0,r.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,r.jsx)("option",{value:"INACTIVE",children:"Inactive"})]})]})}),(0,r.jsx)("div",{className:"rounded-xl overflow-hidden",style:{backgroundColor:u.colors.surface,borderColor:u.colors.border,border:"1px solid"},children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full min-w-[600px]",children:[(0,r.jsx)("thead",{style:{backgroundColor:u.colors.background,borderBottom:"1px solid"},children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm",style:{color:u.colors.textSecondary},children:"User"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm",style:{color:u.colors.textSecondary},children:"Role"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm",style:{color:u.colors.textSecondary},children:"Department"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm",style:{color:u.colors.textSecondary},children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm",style:{color:u.colors.textSecondary},children:"Last Login"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm",style:{color:u.colors.textSecondary},children:"Actions"})]})}),(0,r.jsx)("tbody",{children:V.map(e=>{let o;return(0,r.jsxs)("tr",{style:{borderBottom:`1px solid ${u.colors.border}`},children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",style:{color:u.colors.text},children:e.name}),(0,r.jsx)("div",{className:"text-sm mt-1",style:{color:u.colors.textSecondary},children:e.email})]})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs",style:((e,r)=>{switch(e){case"ADMIN":return{backgroundColor:`${r.colors.primary}20`,color:r.colors.primary};case"STAFF":return{backgroundColor:`${r.colors.secondary}20`,color:r.colors.secondary};case"STUDENT":return{backgroundColor:`${r.colors.success}20`,color:r.colors.success};default:return{backgroundColor:`${r.colors.textSecondary}20`,color:r.colors.textSecondary}}})(e.role,u),children:e.role})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm",style:{color:u.colors.text},children:e.department})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs",style:(o=e.status,"ACTIVE"===o?{backgroundColor:`${u.colors.success}20`,color:u.colors.success}:{backgroundColor:`${u.colors.error}20`,color:u.colors.error}),children:e.status})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm",style:{color:u.colors.text},children:e.lastLogin.toLocaleDateString()})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>{w(e),A({name:e.name,email:e.email,role:e.role,department:e.department,status:e.status}),v(!0)},className:"text-sm px-3 py-1 rounded-xl transition-all duration-200 hover:scale-105",style:{backgroundColor:`${u.colors.primary}20`,color:u.colors.primary,border:`1px solid ${u.colors.primary}30`},children:"Edit"}),(0,r.jsx)("button",{onClick:()=>{w(e),C(!0)},className:"text-sm px-3 py-1 rounded-xl transition-all duration-200 hover:scale-105",style:{backgroundColor:`${u.colors.error}20`,color:u.colors.error,border:`1px solid ${u.colors.error}30`},children:"Delete"})]})})]},e.id)})})]})})})]})}),g&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",style:{zIndex:a.Z_INDEX.MODAL_BACKDROP},children:(0,r.jsxs)("div",{className:"rounded-2xl p-6 w-full max-w-md",style:{backgroundColor:u.colors.surface,border:`1px solid ${u.colors.border}`,zIndex:a.Z_INDEX.MODAL},children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",style:{color:u.colors.text},children:"Add New User"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"text",placeholder:"Name",value:S.name,onChange:e=>A({...S,name:e.target.value}),className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:u.colors.background,borderColor:T.name?"#EF4444":u.colors.border,color:u.colors.text}}),T.name&&(0,r.jsx)("p",{className:"text-xs mt-1",style:{color:u.colors.error},children:T.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"email",placeholder:"Email",value:S.email,onChange:e=>A({...S,email:e.target.value}),className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:u.colors.background,borderColor:T.email?"#EF4444":u.colors.border,color:u.colors.text}}),T.email&&(0,r.jsx)("p",{className:"text-xs mt-1",style:{color:u.colors.error},children:T.email})]}),(0,r.jsxs)("select",{value:S.role,onChange:e=>A({...S,role:e.target.value}),className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:u.colors.background,borderColor:u.colors.border,color:u.colors.text},children:[(0,r.jsx)("option",{value:"STUDENT",children:"Student"}),(0,r.jsx)("option",{value:"STAFF",children:"Staff"}),(0,r.jsx)("option",{value:"ADMIN",children:"Admin"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"text",placeholder:"Department",value:S.department,onChange:e=>A({...S,department:e.target.value}),className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:u.colors.background,borderColor:T.department?"#EF4444":u.colors.border,color:u.colors.text}}),T.department&&(0,r.jsx)("p",{className:"text-xs mt-1",style:{color:u.colors.error},children:T.department})]}),(0,r.jsxs)("select",{value:S.status,onChange:e=>A({...S,status:e.target.value}),className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:u.colors.background,borderColor:u.colors.border,color:u.colors.text},children:[(0,r.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,r.jsx)("option",{value:"INACTIVE",children:"Inactive"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,r.jsx)(t.default,{variant:"secondary",onClick:()=>f(!1),children:"Cancel"}),(0,r.jsx)(t.default,{onClick:B,loading:I,children:"Add User"})]})]})}),j&&k&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",style:{zIndex:a.Z_INDEX.MODAL_BACKDROP},children:(0,r.jsxs)("div",{className:"rounded-2xl p-6 w-full max-w-md",style:{backgroundColor:u.colors.surface,border:`1px solid ${u.colors.border}`,zIndex:a.Z_INDEX.MODAL},children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",style:{color:u.colors.text},children:"Edit User"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"text",placeholder:"Name",value:S.name,onChange:e=>A({...S,name:e.target.value}),className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:u.colors.background,borderColor:T.name?"#EF4444":u.colors.border,color:u.colors.text}}),T.name&&(0,r.jsx)("p",{className:"text-xs mt-1",style:{color:u.colors.error},children:T.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"email",placeholder:"Email",value:S.email,onChange:e=>A({...S,email:e.target.value}),className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:u.colors.background,borderColor:T.email?"#EF4444":u.colors.border,color:u.colors.text}}),T.email&&(0,r.jsx)("p",{className:"text-xs mt-1",style:{color:u.colors.error},children:T.email})]}),(0,r.jsxs)("select",{value:S.role,onChange:e=>A({...S,role:e.target.value}),className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:u.colors.background,borderColor:u.colors.border,color:u.colors.text},children:[(0,r.jsx)("option",{value:"STUDENT",children:"Student"}),(0,r.jsx)("option",{value:"STAFF",children:"Staff"}),(0,r.jsx)("option",{value:"ADMIN",children:"Admin"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"text",placeholder:"Department",value:S.department,onChange:e=>A({...S,department:e.target.value}),className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:u.colors.background,borderColor:T.department?"#EF4444":u.colors.border,color:u.colors.text}}),T.department&&(0,r.jsx)("p",{className:"text-xs mt-1",style:{color:u.colors.error},children:T.department})]}),(0,r.jsxs)("select",{value:S.status,onChange:e=>A({...S,status:e.target.value}),className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:u.colors.background,borderColor:u.colors.border,color:u.colors.text},children:[(0,r.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,r.jsx)("option",{value:"INACTIVE",children:"Inactive"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,r.jsx)(t.default,{variant:"secondary",onClick:()=>v(!1),children:"Cancel"}),(0,r.jsx)(t.default,{onClick:z,loading:I,children:"Save Changes"})]})]})}),N&&k&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",style:{zIndex:a.Z_INDEX.MODAL_BACKDROP},children:(0,r.jsxs)("div",{className:"rounded-2xl p-6 w-full max-w-md",style:{backgroundColor:u.colors.surface,border:`1px solid ${u.colors.border}`,zIndex:a.Z_INDEX.MODAL},children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",style:{color:u.colors.text},children:"Delete User"}),(0,r.jsxs)("p",{style:{color:u.colors.textSecondary},children:["Are you sure you want to delete ",k.name,"? This action cannot be undone."]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,r.jsx)(t.default,{variant:"secondary",onClick:()=>C(!1),children:"Cancel"}),(0,r.jsx)(t.default,{variant:"danger",onClick:U,loading:I,children:"Delete User"})]})]})})]})})}e.s(["default",()=>u])}]);