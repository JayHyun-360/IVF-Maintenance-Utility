(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return o}});let o=e=>{}},18566,(e,t,r)=>{t.exports=e.r(76562)},84251,e=>{"use strict";var t=e.i(43476),r=e.i(18566),o=e.i(46932);function s({className:e="",fallback:s="/",label:i="Back"}){let n=(0,r.useRouter)();return(0,t.jsxs)(o.motion.button,{onClick:()=>{window.history.length>2?n.back():n.push(s)},className:`flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-gray-300 hover:text-gray-100 hover:bg-white/10 transition-all duration-300 ${e}`,whileHover:{scale:1.02,x:-2},whileTap:{scale:.95},title:"Go back",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:i})]})}e.s(["default",()=>s])},99809,e=>{"use strict";var t=e.i(71645);function r(){let[e,r]=(0,t.useState)({isMobile:!1,isTablet:!1,isDesktop:!0,screenWidth:1024,screenHeight:768,orientation:"landscape",supportsTouch:!1,supportsHaptic:!1,safeAreaInsets:{top:0,right:0,bottom:0,left:0}});return(0,t.useEffect)(()=>(setTimeout(()=>{let e=()=>{let e=window.innerWidth,t=window.innerHeight,o=getComputedStyle(document.documentElement),s={top:parseInt(o.getPropertyValue("--mobile-safe-area-top")||"0"),right:parseInt(o.getPropertyValue("--mobile-safe-area-right")||"0"),bottom:parseInt(o.getPropertyValue("--mobile-safe-area-bottom")||"0"),left:parseInt(o.getPropertyValue("--mobile-safe-area-left")||"0")};r({isMobile:e<768,isTablet:e>=768&&e<1024,isDesktop:e>=1024,screenWidth:e,screenHeight:t,orientation:e>t?"landscape":"portrait",supportsTouch:"ontouchstart"in window||navigator.maxTouchPoints>0,supportsHaptic:"vibrate"in navigator,safeAreaInsets:s})};e();let t=new ResizeObserver(e);t.observe(document.body);let o=()=>{setTimeout(e,100)};return window.addEventListener("orientationchange",o),window.addEventListener("resize",e),()=>{t.disconnect(),window.removeEventListener("orientationchange",o),window.removeEventListener("resize",e)}},100),()=>{}),[]),e}function o(){let{supportsHaptic:e}=r(),t=(t=10)=>{if(e&&navigator.vibrate)try{navigator.vibrate(t)}catch(e){console.warn("Haptic feedback not supported:",e)}};return{triggerHaptic:t,triggerLightHaptic:()=>t(10),triggerMediumHaptic:()=>t([10,50,10]),triggerHeavyHaptic:()=>t([20,100,20]),triggerSuccessHaptic:()=>t([10,30,10,30,10]),triggerErrorHaptic:()=>t([50,50,50,50,50]),supportsHaptic:e}}e.s(["useHapticFeedback",()=>o,"useMobileOptimizations",()=>r])},87896,e=>{"use strict";var t=e.i(43476),r=e.i(71645),o=e.i(17255),s=e.i(18566),i=e.i(8013);function n({children:e,requiredRole:n,redirectTo:l="/login"}){let{data:a,status:c}=(0,o.useSession)(),d=(0,s.useRouter)(),{themeConfig:u}=(0,i.useTheme)(),[m,p]=(0,r.useState)(!1),[h,x]=(0,r.useState)("");return((0,r.useEffect)(()=>{let e=setTimeout(()=>{"loading"===c&&(p(!0),x(`Status: ${c}, Session: ${!!a}, Required Role: ${n}`))},5e3);return()=>clearTimeout(e)},[c,a,n]),(0,r.useEffect)(()=>{if(console.log("AuthGuard Debug:",{status:c,hasSession:!!a,userRole:a?.user?.role,requiredRole:n,redirectTo:l}),"loading"!==c){if(!a){console.log("No session found, redirecting to:",l),d.push(l);return}if(n&&a.user?.role!==n){console.log("Role mismatch:",{userRole:a.user?.role,requiredRole:n}),"ADMIN"===n&&a.user?.role!=="ADMIN"?a.user?.role==="STAFF"?d.push("/staff"):d.push("/student"):"STAFF"!==n||["ADMIN","STAFF"].includes(a.user?.role||"")?"USER"===n&&a.user?.role==="ADMIN"||d.push("/login"):d.push("/student");return}}},[a,c,d,n,l]),"loading"===c)?m?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:u.colors.background},children:(0,t.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,t.jsx)("div",{className:"rounded-full h-12 w-12 mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:`${u.colors.warning}20`},children:(0,t.jsx)("svg",{className:"w-6 h-6",style:{color:u.colors.warning},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,t.jsx)("p",{style:{color:u.colors.text,fontFamily:"Inter, system-ui, sans-serif",marginBottom:"16px"},children:"Authentication is taking longer than expected"}),h&&(0,t.jsx)("p",{style:{color:u.colors.textSecondary,fontFamily:"monospace",fontSize:"12px",marginBottom:"16px"},children:h}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("button",{onClick:()=>window.location.reload(),style:{backgroundColor:u.colors.primary,color:"white",padding:"8px 16px",borderRadius:"6px",fontSize:"14px",cursor:"pointer",marginRight:"8px"},children:"Refresh Page"}),(0,t.jsx)("button",{onClick:()=>d.push("/login"),style:{backgroundColor:u.colors.textSecondary,color:"white",padding:"8px 16px",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:"Go to Login"})]})]})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:u.colors.background},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:u.colors.primary}}),(0,t.jsx)("p",{style:{color:u.colors.text,fontFamily:"Inter, system-ui, sans-serif"},children:"Verifying access..."}),(0,t.jsxs)("p",{style:{color:u.colors.textSecondary,fontFamily:"Inter, system-ui, sans-serif",fontSize:"12px",marginTop:"8px"},children:["Status: ",c]})]})}):(0,t.jsx)(t.Fragment,{children:e})}e.s(["default",()=>n])},82805,e=>{"use strict";var t=e.i(43476),r=e.i(71645),o=e.i(8013),s=e.i(73940);let i=[{value:"dark",label:"Cyan Accents Dark",icon:"◈",colors:{primary:"#0B0E11",secondary:"#14b8a6"},description:"Deep space with cyan highlights"},{value:"light",label:"Smooth White",icon:"◉",colors:{primary:"#F8FAFC",secondary:"#14b8a6"},description:"Clean white with cyan accents"}];function n(){let{themeConfig:e,setTheme:n}=(0,o.useTheme)(),[l,a]=(0,r.useState)(()=>(0,s.getStoredTheme)()),[c,d]=(0,r.useState)(!1),u=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let m=i.find(e=>e.value===l);return(0,t.jsxs)("div",{className:"relative",ref:u,children:[(0,t.jsxs)("button",{onClick:()=>d(!c),className:"flex items-center space-x-1 px-2 py-1.5 rounded-lg transition-all duration-200 hover:shadow-sm active:scale-95",style:{backgroundColor:e.colors.surface,border:`1px solid ${e.colors.border}`,color:e.colors.text},children:[(0,t.jsx)("span",{className:"text-sm",children:m?.icon}),(0,t.jsx)("span",{className:"text-xs font-medium hidden sm:inline",children:m?.label}),(0,t.jsx)("svg",{className:`w-3 h-3 transition-transform duration-200 ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&(0,t.jsx)("div",{className:"absolute top-full right-0 mt-1.5 w-48 rounded-lg shadow-sm border",style:{backgroundColor:e.colors.surface,borderColor:e.colors.border,zIndex:9999},children:(0,t.jsx)("div",{className:"p-1.5",children:i.map(r=>(0,t.jsxs)("button",{onClick:()=>{var e;l!==(e=r.value)&&(a(e),(0,s.setStoredTheme)(e),(0,s.applyTheme)(e),n(e),d(!1))},className:`w-full flex items-center space-x-2 px-2 py-1.5 rounded-md transition-all duration-200 ${l===r.value?"bg-primary/10":"hover:bg-surface"}`,style:{color:e.colors.text},children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,t.jsx)("span",{className:"text-sm",children:r.icon}),(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full border",style:{backgroundColor:r.colors.primary,borderColor:e.colors.border}}),(0,t.jsx)("div",{className:"w-3 h-3 rounded-full border",style:{backgroundColor:r.colors.secondary,borderColor:e.colors.border}})]})]}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsx)("div",{className:"text-xs font-medium",children:r.label}),(0,t.jsx)("div",{className:"text-xs",style:{color:e.colors.textSecondary},children:r.description})]}),l===r.value&&(0,t.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},r.value))})})]})}e.s(["default",()=>n])}]);