(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},99809,e=>{"use strict";var t=e.i(71645);function s(){let[e,s]=(0,t.useState)({isMobile:!1,isTablet:!1,isDesktop:!0,screenWidth:1024,screenHeight:768,orientation:"landscape",supportsTouch:!1,supportsHaptic:!1,safeAreaInsets:{top:0,right:0,bottom:0,left:0}});return(0,t.useEffect)(()=>(setTimeout(()=>{let e=()=>{let e=window.innerWidth,t=window.innerHeight,r=getComputedStyle(document.documentElement),o={top:parseInt(r.getPropertyValue("--mobile-safe-area-top")||"0"),right:parseInt(r.getPropertyValue("--mobile-safe-area-right")||"0"),bottom:parseInt(r.getPropertyValue("--mobile-safe-area-bottom")||"0"),left:parseInt(r.getPropertyValue("--mobile-safe-area-left")||"0")};s({isMobile:e<768,isTablet:e>=768&&e<1024,isDesktop:e>=1024,screenWidth:e,screenHeight:t,orientation:e>t?"landscape":"portrait",supportsTouch:"ontouchstart"in window||navigator.maxTouchPoints>0,supportsHaptic:"vibrate"in navigator,safeAreaInsets:o})};e();let t=new ResizeObserver(e);t.observe(document.body);let r=()=>{setTimeout(e,100)};return window.addEventListener("orientationchange",r),window.addEventListener("resize",e),()=>{t.disconnect(),window.removeEventListener("orientationchange",r),window.removeEventListener("resize",e)}},100),()=>{}),[]),e}function r(){let{supportsHaptic:e}=s(),t=(t=10)=>{if(e&&navigator.vibrate)try{navigator.vibrate(t)}catch(e){console.warn("Haptic feedback not supported:",e)}};return{triggerHaptic:t,triggerLightHaptic:()=>t(10),triggerMediumHaptic:()=>t([10,50,10]),triggerHeavyHaptic:()=>t([20,100,20]),triggerSuccessHaptic:()=>t([10,30,10,30,10]),triggerErrorHaptic:()=>t([50,50,50,50,50]),supportsHaptic:e}}e.s(["useHapticFeedback",()=>r,"useMobileOptimizations",()=>s])},84251,e=>{"use strict";var t=e.i(43476),s=e.i(18566),r=e.i(46932);function o({className:e="",fallback:o="/",label:n="Back"}){let i=(0,s.useRouter)();return(0,t.jsxs)(r.motion.button,{onClick:()=>{window.history.length>2?i.back():i.push(o)},className:`flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-gray-300 hover:text-gray-100 hover:bg-white/10 transition-all duration-300 ${e}`,whileHover:{scale:1.02,x:-2},whileTap:{scale:.95},title:"Go back",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:n})]})}e.s(["default",()=>o])},87896,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(17255),o=e.i(18566),n=e.i(8013);function i({children:e,requiredRole:i,redirectTo:l="/login"}){let{data:a,status:c}=(0,r.useSession)(),d=(0,o.useRouter)(),{themeConfig:u}=(0,n.useTheme)(),[x,h]=(0,s.useState)(!1),[m,p]=(0,s.useState)("");return((0,s.useEffect)(()=>{let e=setTimeout(()=>{"loading"===c&&(h(!0),p(`Status: ${c}, Session: ${!!a}, Required Role: ${i}`))},5e3);return()=>clearTimeout(e)},[c,a,i]),(0,s.useEffect)(()=>{if(console.log("AuthGuard Debug:",{status:c,hasSession:!!a,userRole:a?.user?.role,requiredRole:i,redirectTo:l}),"loading"!==c){if(!a){console.log("No session found, redirecting to:",l),d.push(l);return}if(i&&a.user?.role!==i){console.log("Role mismatch:",{userRole:a.user?.role,requiredRole:i}),"ADMIN"===i&&a.user?.role!=="ADMIN"?a.user?.role==="STAFF"?d.push("/staff"):d.push("/student"):"STAFF"!==i||["ADMIN","STAFF"].includes(a.user?.role||"")?"USER"===i&&a.user?.role==="ADMIN"||d.push("/login"):d.push("/student");return}}},[a,c,d,i,l]),"loading"===c)?x?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:u.colors.background},children:(0,t.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,t.jsx)("div",{className:"rounded-full h-12 w-12 mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:`${u.colors.warning}20`},children:(0,t.jsx)("svg",{className:"w-6 h-6",style:{color:u.colors.warning},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,t.jsx)("p",{style:{color:u.colors.text,fontFamily:"Inter, system-ui, sans-serif",marginBottom:"16px"},children:"Authentication is taking longer than expected"}),m&&(0,t.jsx)("p",{style:{color:u.colors.textSecondary,fontFamily:"monospace",fontSize:"12px",marginBottom:"16px"},children:m}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("button",{onClick:()=>window.location.reload(),style:{backgroundColor:u.colors.primary,color:"white",padding:"8px 16px",borderRadius:"6px",fontSize:"14px",cursor:"pointer",marginRight:"8px"},children:"Refresh Page"}),(0,t.jsx)("button",{onClick:()=>d.push("/login"),style:{backgroundColor:u.colors.textSecondary,color:"white",padding:"8px 16px",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:"Go to Login"})]})]})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:u.colors.background},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:u.colors.primary}}),(0,t.jsx)("p",{style:{color:u.colors.text,fontFamily:"Inter, system-ui, sans-serif"},children:"Verifying access..."}),(0,t.jsxs)("p",{style:{color:u.colors.textSecondary,fontFamily:"Inter, system-ui, sans-serif",fontSize:"12px",marginTop:"8px"},children:["Status: ",c]})]})}):(0,t.jsx)(t.Fragment,{children:e})}e.s(["default",()=>i])},93784,e=>{"use strict";let t={BASE:0,DROPDOWN:10,DROPDOWN_CONTENT:11,STICKY:20,MODAL_BACKDROP:1e3,MODAL:1001,TOOLTIP:1002,NOTIFICATION:1003,MAX:9999};t.BASE,t.DROPDOWN,t.STICKY,t.MODAL_BACKDROP,t.MODAL,t.TOOLTIP,t.NOTIFICATION,t.MAX,e.s(["Z_INDEX",0,t])},36944,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(17255),o=e.i(18566),n=e.i(8013),i=e.i(93784);function l(){let{data:e}=(0,r.useSession)(),l=(0,o.useRouter)(),{themeConfig:a}=(0,n.useTheme)(),[c,d]=(0,s.useState)(!1),[u,x]=(0,s.useState)("bottom"),[h,m]=(0,s.useState)("right"),p=(0,s.useRef)(null);(0,s.useEffect)(()=>{if("u"<typeof document)return;let e=e=>{p.current&&!p.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let f=async()=>{console.log("Logging out..."),d(!1);try{localStorage.removeItem("next-auth.session-token"),sessionStorage.removeItem("next-auth.session-token");let e=await (0,r.signOut)({redirect:!1,callbackUrl:window.location.origin+"/login"});console.log("SignOut successful:",e),setTimeout(()=>{l.push("/login")},100)}catch(e){console.error("Logout error:",e),window.location.href="/login"}};return e?(0,t.jsxs)("div",{className:"relative",ref:p,children:[(0,t.jsxs)("button",{onClick:()=>{if(!c){let e=p.current?.getBoundingClientRect(),t=window.innerHeight;window.innerWidth,e&&(e.bottom+300+20>t?x("top"):x("bottom"),e.left-192<20?m("left"):m("right"))}d(!c)},className:"flex items-center space-x-2 p-2 rounded-lg transition-all duration-300 hover:scale-105",style:{backgroundColor:a.colors.surface,color:a.colors.text,border:`1px solid ${a.colors.border}`},children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-semibold",style:{background:`linear-gradient(135deg, ${a.colors.primary} 0%, ${a.colors.secondary} 100%)`},children:e.user?.name?.charAt(0).toUpperCase()||"U"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"text-sm font-medium",style:{color:a.colors.text},children:e.user?.name||"User"}),(0,t.jsx)("div",{className:"text-xs",style:{color:a.colors.textSecondary},children:e.user?.role||"User"})]})]}),(0,t.jsx)("svg",{className:`w-4 h-4 transition-transform duration-200 ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})]}),c&&(0,t.jsx)("div",{className:`absolute w-48 rounded-xl shadow-xl border max-h-60 overflow-y-auto backdrop-blur-xl ${"bottom"===u?"top-full mt-2":"bottom-full mb-2"} ${"left"===h?"left-0":"right-0"}`,style:{backgroundColor:`${a.colors.surface}CC`,borderColor:a.colors.border,zIndex:i.Z_INDEX.MAX,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsxs)("button",{onClick:()=>l.push("/settings"),className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-all duration-200 hover:scale-105 text-left",style:{color:a.colors.text},children:[(0,t.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:2.5,fill:"none"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 1v6m0 6v6m11-7h-6m-6 0H1"})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:"Account Settings"}),(0,t.jsx)("div",{className:"text-xs",style:{color:a.colors.textSecondary},children:"Manage your preferences"})]})]}),e.user?.role==="ADMIN"&&(0,t.jsxs)("button",{onClick:()=>l.push("/admin/dashboard"),className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-all duration-200 hover:scale-105 text-left",style:{color:a.colors.text},children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:"Admin Dashboard"}),(0,t.jsx)("div",{className:"text-xs",style:{color:a.colors.textSecondary},children:"Manage maintenance requests"})]})]}),e.user?.role!=="ADMIN"&&(0,t.jsxs)("button",{onClick:()=>l.push("/student"),className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-all duration-200 hover:scale-105 text-left",style:{color:a.colors.text},children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:"Request Portal"}),(0,t.jsx)("div",{className:"text-xs",style:{color:a.colors.textSecondary},children:"Submit maintenance requests"})]})]}),(0,t.jsx)("div",{className:"border-t my-1",style:{borderColor:a.colors.border}}),(0,t.jsxs)("button",{onClick:()=>{console.log("Switching account..."),l.push("/login"),d(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-all duration-200 hover:scale-105 text-left",style:{color:a.colors.text},children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:"Switch Account"}),(0,t.jsx)("div",{className:"text-xs",style:{color:a.colors.textSecondary},children:"Change user account"})]})]}),(0,t.jsxs)("button",{onClick:()=>{confirm("Are you sure you want to remove your account? This action cannot be undone.")&&(console.log("Removing account..."),f()),d(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-all duration-200 hover:scale-105 text-left",style:{color:a.colors.error},children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m0-6v6m0-6V3a2 2 0 012-2h6a2 2 0 012 2v6"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:"Remove Account"}),(0,t.jsx)("div",{className:"text-xs",style:{color:a.colors.textSecondary},children:"Delete your account"})]})]}),(0,t.jsx)("div",{className:"border-t my-1",style:{borderColor:a.colors.border}}),(0,t.jsxs)("button",{onClick:f,className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-all duration-200 hover:scale-105 text-left",style:{color:a.colors.text},children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M17 16l4-4m0 0l-4 4m4-4H3m4 4v-4m0 0v4"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:"Log Out"}),(0,t.jsx)("div",{className:"text-xs",style:{color:a.colors.textSecondary},children:"Sign out of your account"})]})]})]})})]}):(0,t.jsx)("button",{onClick:()=>l.push("/login"),className:"p-2 rounded-xl transition-all duration-300 hover:scale-105",style:{backgroundColor:a.colors.surface,color:a.colors.text,border:`1px solid ${a.colors.border}`},children:(0,t.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{cx:"12",cy:"8",r:"3",stroke:"currentColor",strokeWidth:2.5,fill:"none"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M16 19a4 4 0 00-8 0"})]})})}e.s(["default",()=>l])},88653,e=>{"use strict";e.i(47167);var t=e.i(43476),s=e.i(71645),r=e.i(31178),o=e.i(47414),n=e.i(74008),i=e.i(21476),l=e.i(72846),a=s,c=e.i(37806);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class u extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,s=(0,l.isHTMLElement)(e)&&e.offsetWidth||0,r=(0,l.isHTMLElement)(e)&&e.offsetHeight||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=s-o.width-o.left,o.bottom=r-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function x({children:e,isPresent:r,anchorX:o,anchorY:n,root:i,pop:l}){let x=(0,a.useId)(),h=(0,a.useRef)(null),m=(0,a.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=(0,a.useContext)(c.MotionConfigContext),f=function(...e){return s.useCallback(function(...e){return t=>{let s=!1,r=e.map(e=>{let r=d(e,t);return s||"function"!=typeof r||(s=!0),r});if(s)return()=>{for(let t=0;t<r.length;t++){let s=r[t];"function"==typeof s?s():d(e[t],null)}}}}(...e),e)}(h,e.props?.ref??e?.ref);return(0,a.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:a,right:c,bottom:d}=m.current;if(r||!1===l||!h.current||!e||!t)return;let u="left"===o?`left: ${a}`:`right: ${c}`,f="bottom"===n?`bottom: ${d}`:`top: ${s}`;h.current.dataset.motionPopId=x;let g=document.createElement("style");p&&(g.nonce=p);let v=i??document.head;return v.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${x}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${u}px !important;
            ${f}px !important;
          }
        `),()=>{v.contains(g)&&v.removeChild(g)}},[r]),(0,t.jsx)(u,{isPresent:r,childRef:h,sizeRef:m,pop:l,children:!1===l?e:a.cloneElement(e,{ref:f})})}let h=({children:e,initial:r,isPresent:n,onExitComplete:l,custom:a,presenceAffectsLayout:c,mode:d,anchorX:u,anchorY:h,root:p})=>{let f=(0,o.useConstant)(m),g=(0,s.useId)(),v=!0,b=(0,s.useMemo)(()=>(v=!1,{id:g,initial:r,isPresent:n,custom:a,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;l&&l()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[n,f,l]);return c&&v&&(b={...b}),(0,s.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[n]),s.useEffect(()=>{n||f.size||!l||l()},[n]),e=(0,t.jsx)(x,{pop:"popLayout"===d,isPresent:n,anchorX:u,anchorY:h,root:p,children:e}),(0,t.jsx)(i.PresenceContext.Provider,{value:b,children:e})};function m(){return new Map}var p=e.i(64978);let f=e=>e.key||"";function g(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let v=({children:e,custom:i,initial:l=!0,onExitComplete:a,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:x="left",anchorY:m="top",root:v})=>{let[b,j]=(0,p.usePresence)(u),y=(0,s.useMemo)(()=>g(e),[e]),w=u&&!b?[]:y.map(f),N=(0,s.useRef)(!0),k=(0,s.useRef)(y),C=(0,o.useConstant)(()=>new Map),L=(0,s.useRef)(new Set),[M,S]=(0,s.useState)(y),[A,R]=(0,s.useState)(y);(0,n.useIsomorphicLayoutEffect)(()=>{N.current=!1,k.current=y;for(let e=0;e<A.length;e++){let t=f(A[e]);w.includes(t)?(C.delete(t),L.current.delete(t)):!0!==C.get(t)&&C.set(t,!1)}},[A,w.length,w.join("-")]);let T=[];if(y!==M){let e=[...y];for(let t=0;t<A.length;t++){let s=A[t],r=f(s);w.includes(r)||(e.splice(t,0,s),T.push(s))}return"wait"===d&&T.length&&(e=T),R(g(e)),S(y),null}let{forceRender:I}=(0,s.useContext)(r.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:A.map(e=>{let s=f(e),r=(!u||!!b)&&(y===A||w.includes(s));return(0,t.jsx)(h,{isPresent:r,initial:(!N.current||!!l)&&void 0,custom:i,presenceAffectsLayout:c,mode:d,root:v,onExitComplete:r?void 0:()=>{if(L.current.has(s)||(L.current.add(s),!C.has(s)))return;C.set(s,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(I?.(),R(k.current),u&&j?.(),a&&a())},anchorX:x,anchorY:m,children:e},s)})})};e.s(["AnimatePresence",()=>v],88653)},42408,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(18566),o=e.i(99809),n=e.i(87896),i=e.i(84251),l=e.i(36944),a=e.i(46932),c=e.i(88653);function d(){let{isMobile:e}=(0,o.useMobileOptimizations)();(0,r.useRouter)();let[d,u]=(0,s.useState)(!1),[x,h]=(0,s.useState)(!0),[m,p]=(0,s.useState)(!1),[f,g]=(0,s.useState)([{id:1,title:"Analytics Report Generated",message:"Weekly analytics report has been generated successfully",type:"success",time:"2 minutes ago",read:!0,requestId:null}]),[v,b]=(0,s.useState)([]);if((0,s.useEffect)(()=>{u(!0);let e=async()=>{try{let e=await fetch("/api/requests");if(e.ok)return await e.json();return[]}catch(e){return console.error("Error fetching recent requests:",e),[]}};(async()=>{h(!0);try{let t=await e();b(t),setTimeout(()=>h(!1),1e3)}catch(e){console.error("Error initializing analytics data:",e),h(!1)}})()},[]),!d)return(0,t.jsx)(n.default,{requiredRole:"ADMIN",children:(0,t.jsx)("div",{className:"min-h-screen bg-[#0B0E11] flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-gray-400",children:"Loading..."})})});let j=f.filter(e=>!e.read).length;return(0,t.jsx)(n.default,{requiredRole:"ADMIN",children:(0,t.jsxs)("div",{className:"min-h-screen bg-[#0B0E11] relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-20",children:(0,t.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:(0,t.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,t.jsx)("g",{stroke:"#14b8a6",strokeWidth:"0.5",opacity:"0.3",children:(0,t.jsx)("path",{d:"M0 0h40v40H0z M10 0v40M20 0v40M30 0v40M0 10h40M0 20h40M0 30h40"})})})})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-500/10 via-transparent to-cyan-500/10 blur-3xl"}),(0,t.jsx)(a.motion.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"fixed top-0 left-0 right-0 z-50 bg-black/20 backdrop-blur-xl border-b border-white/10",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-12",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-14 md:h-16",style:{maxWidth:"1400px",margin:"0 auto"},children:[(0,t.jsxs)(a.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"flex items-center gap-2 md:gap-3",children:[(0,t.jsx)(a.motion.div,{className:"w-8 h-8 md:w-10 md:h-10 rounded-lg bg-gradient-to-br from-teal-500 to-cyan-600 flex items-center justify-center shadow-lg shadow-teal-500/25",whileHover:{scale:1.05,rotate:3},children:(0,t.jsx)("svg",{className:"w-4 h-4 md:w-6 md:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,t.jsxs)("div",{className:"hidden sm:block",children:[(0,t.jsx)("h1",{className:"text-lg md:text-xl font-bold text-gray-100",children:"IVF Admin"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Analytics Dashboard"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 md:gap-4 ml-auto",children:[(0,t.jsxs)(a.motion.button,{onClick:()=>p(!m),className:"relative p-2 rounded-lg bg-white/10 hover:bg-white/20 text-gray-300 hover:text-white transition-all duration-200 transform hover:-translate-y-1",title:"Notifications",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-2-2H5a2 2 0 002-2h2a2 2 0 002-2m0 0V9a2 2 0 012-2h2a2 2 0 012-2v10m-6 0a2 2 0 002-2h2a2 2 0 012-2v14a2 2 0 01-2-2z"})}),j>0&&(0,t.jsx)(a.motion.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:j})]}),(0,t.jsx)(i.default,{fallback:"/admin/dashboard"}),(0,t.jsx)(l.default,{})]})]})})}),(0,t.jsx)("main",{className:"pt-24 md:pt-28 px-4 sm:px-6 lg:px-12 pb-12",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto",style:{maxWidth:"1400px"},children:(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-gray-100 mb-4",children:"Analytics"}),(0,t.jsx)("p",{className:"text-gray-400 text-lg",children:"Detailed analytics and performance metrics"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"backdrop-blur-xl rounded-2xl border border-white/10 bg-white/5 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-100 mb-4",children:"Request Trends"}),(0,t.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-400",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,t.jsx)("p",{children:"Chart visualization coming soon"})]})})]}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"backdrop-blur-xl rounded-2xl border border-white/10 bg-white/5 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-100 mb-4",children:"Performance Metrics"}),(0,t.jsx)("div",{className:"space-y-4",children:[{label:"Average Response Time",value:"2.4 hours",trend:"-15%"},{label:"Resolution Rate",value:"87%",trend:"+5%"},{label:"User Satisfaction",value:"4.6/5",trend:"+8%"},{label:"System Uptime",value:"99.9%",trend:"0%"}].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5",children:[(0,t.jsx)("span",{className:"text-gray-300",children:e.label}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-gray-100 font-mono",children:e.value}),(0,t.jsx)("span",{className:`text-xs font-mono px-2 py-1 rounded-full ${e.trend.startsWith("+")?"bg-lime-500/20 text-lime-400":"bg-red-500/20 text-red-400"}`,children:e.trend})]})]},s))})]})]})]})})}),(0,t.jsx)(c.AnimatePresence,{children:m&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.motion.div,{animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>p(!1)}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"fixed top-16 right-4 w-80 rounded-xl shadow-2xl border border-white/10 bg-white/5 backdrop-blur-xl overflow-hidden",style:{background:"rgba(255, 255, 255, 0.08) !important",backdropFilter:"blur(25px) saturate(200%) brightness(1.1) !important",WebkitBackdropFilter:"blur(25px) saturate(200%) brightness(1.1) !important",border:"1px solid rgba(255, 255, 255, 0.15) !important",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.15), inset 0 -1px 0 rgba(255, 255, 255, 0.05) !important"},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-100",children:"Notifications"}),(0,t.jsx)("button",{onClick:()=>p(!1),className:"p-1 rounded-lg hover:bg-white/10 transition-colors duration-200",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6v12M18 6l-6-6"})})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto max-h-96",children:0===f.length?(0,t.jsx)("div",{className:"p-8 text-center",children:(0,t.jsx)("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-gray-800/50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-100 mb-3",children:"Recent Activity (Last 7 Days)"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Total Requests"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-gray-100 font-mono",children:v.length}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"total requests"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Active Requests"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-gray-100 font-mono",children:v.filter(e=>"Active"===e.status).length}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"currently active"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Completed Today"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-gray-100 font-mono",children:v.filter(e=>"Completed"===e.status).length}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"completed today"})]})]})]})]})})}):(0,t.jsx)("div",{className:"p-2",children:f.map(e=>(0,t.jsx)(a.motion.div,{className:"p-3 rounded-lg cursor-pointer transition-all duration-200 mb-2 hover:bg-white/10",onClick:()=>{var t;t=e.id,g(e=>e.map(e=>e.id===t?{...e,read:!0}:e)),p(!1)},children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${(e=>{switch(e){case"urgent":return"text-red-400 bg-red-500/20 border-red-500/30";case"success":return"text-green-400 bg-green-500/20 border-green-500/30";case"high":return"text-amber-400 bg-amber-500/20 border-amber-500/30";case"info":return"text-blue-400 bg-blue-500/20 border-blue-500/30";default:return"text-gray-400 bg-gray-500/20 border-gray-500/30"}})(e.type)}`,children:(e=>{switch(e){case"urgent":case"high":return(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732L13.732 4c-.77-1.333-2.694-1.732 3.464 0L3.34 16c-.77 1.333-2.694 1.732 3z"})});case"success":return(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0z"})})}})(e.type)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("p",{className:`text-sm font-medium truncate ${e.read?"text-gray-300":"text-gray-100"}`,children:e.title}),!e.read&&(0,t.jsx)("div",{className:"w-2 h-2 bg-teal-400 rounded-full flex-shrink-0"})]}),(0,t.jsx)("p",{className:`text-xs text-gray-400 line-clamp-2 ${e.read?"text-gray-500":"text-gray-400"}`,children:e.message}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.time})]})]})},e.id))})}),(0,t.jsx)("div",{className:"border-t border-white/10 p-3 bg-gray-800/50",children:(0,t.jsx)("button",{onClick:()=>{g(e=>e.map(e=>({...e,read:!0})))},className:"w-full text-center text-sm text-teal-400 hover:text-teal-300 transition-colors duration-200",children:"Mark All as Read"})})]})]})})]})})}e.s(["default",()=>d])}]);